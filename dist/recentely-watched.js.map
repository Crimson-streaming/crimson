{
  "version": 3,
  "sources": ["../src/recentely-watched.js"],
  "sourcesContent": ["// Fonction pour ajouter un film \u00E0 la liste des films r\u00E9cemment visionn\u00E9s\r\nfunction addMovieToTrending() {\r\n    const posterDiv = document.getElementById('poster-watch-movie');\r\n    if (!posterDiv) return;\r\n\r\n    const posterStyle = posterDiv.style.backgroundImage;\r\n    const posterUrlMatch = posterStyle.match(/url\\((['\"]?)(.*?)\\1\\)/);\r\n    if (!posterUrlMatch) return;\r\n    const posterUrl = posterUrlMatch[2];\r\n\r\n    const canonicalLink = document.querySelector('link[rel=\"canonical\"]');\r\n    if (!canonicalLink) return;\r\n    const moviePath = 'film/' + canonicalLink.getAttribute('href');\r\n\r\n    const movie = {\r\n        poster: posterUrl,\r\n        path: moviePath,\r\n        title: moviePath.split('/').pop().replace(/-/g, ' ').replace('.html', '')\r\n    };\r\n\r\n    let trendingMovies = JSON.parse(localStorage.getItem('trendingMovies')) || [];\r\n\r\n    if (!trendingMovies.some(m => m.path === movie.path)) {\r\n        trendingMovies.unshift(movie);\r\n\r\n        if (trendingMovies.length > 20) {\r\n            trendingMovies.pop();\r\n        }\r\n\r\n        localStorage.setItem('trendingMovies', JSON.stringify(trendingMovies));\r\n    }\r\n}\r\n\r\nfunction displayRecentlyWatchedMovies() {\r\n    const trendingMovies = JSON.parse(localStorage.getItem('trendingMovies')) || [];\r\n    const recentlyWatchedSection = document.querySelector('.video-shows-section.vfx-item-ptb');\r\n    const recentlyWatchedContainer = document.getElementById('recently-watched');\r\n\r\n    if (trendingMovies.length === 0) {\r\n        if (recentlyWatchedSection) {\r\n            recentlyWatchedSection.style.display = 'none';\r\n        }\r\n        return;\r\n    } else {\r\n        if (recentlyWatchedSection) {\r\n            recentlyWatchedSection.style.display = 'block';\r\n        }\r\n    }\r\n\r\n    if (!recentlyWatchedContainer) return;\r\n\r\n    recentlyWatchedContainer.innerHTML = '';\r\n\r\n    trendingMovies.forEach(movie => {\r\n        const movieItem = document.createElement('div');\r\n        movieItem.classList.add('single-video');\r\n\r\n        movieItem.innerHTML = `\r\n            <a href=\"${movie.path}\" title=\"${movie.title}\">\r\n                <div class=\"video-img\">\r\n                    <span class=\"video-item-content\">${movie.title}</span>\r\n                    <img src=\"${movie.poster}\" alt=\"${movie.title}\" title=\"Movies-${movie.title}\">\r\n                </div>\r\n            </a>\r\n        `;\r\n\r\n        recentlyWatchedContainer.appendChild(movieItem);\r\n    });\r\n\r\n    $(document).ready(function(){\r\n        $(\".owl-carousel\").owlCarousel({\r\n            nav: true,\r\n            margin: 20,\r\n            navText: ['<i class=\"fas fa-angle-left\"></i>', '<i class=\"fas fa-angle-right\"></i>'],\r\n            responsive: {\r\n                0: {\r\n                    items: 2,\r\n                    slideBy: 2,\r\n                },\r\n                640: {\r\n                    items: 3,\r\n                    slideBy: 3\r\n                },\r\n                768: {\r\n                    items: 4,\r\n                    slideBy: 4\r\n                },\r\n                991: {\r\n                    items: 5,\r\n                    slideBy: 5\r\n                },\r\n                1198: {\r\n                    items: 6,\r\n                    slideBy: 6\r\n                }\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', displayRecentlyWatchedMovies);\r\n\r\nif (document.getElementById('poster-watch-movie')) {\r\n    addMovieToTrending();\r\n}"],
  "mappings": "MACA,SAASA,GAAqB,CAC1B,IAAMC,EAAY,SAAS,eAAe,oBAAoB,EAC9D,GAAI,CAACA,EAAW,OAGhB,IAAMC,EADcD,EAAU,MAAM,gBACD,MAAM,uBAAuB,EAChE,GAAI,CAACC,EAAgB,OACrB,IAAMC,EAAYD,EAAe,CAAC,EAE5BE,EAAgB,SAAS,cAAc,uBAAuB,EACpE,GAAI,CAACA,EAAe,OACpB,IAAMC,EAAY,QAAUD,EAAc,aAAa,MAAM,EAEvDE,EAAQ,CACV,OAAQH,EACR,KAAME,EACN,MAAOA,EAAU,MAAM,GAAG,EAAE,IAAI,EAAE,QAAQ,KAAM,GAAG,EAAE,QAAQ,QAAS,EAAE,CAC5E,EAEIE,EAAiB,KAAK,MAAM,aAAa,QAAQ,gBAAgB,CAAC,GAAK,CAAC,EAEvEA,EAAe,KAAKC,GAAKA,EAAE,OAASF,EAAM,IAAI,IAC/CC,EAAe,QAAQD,CAAK,EAExBC,EAAe,OAAS,IACxBA,EAAe,IAAI,EAGvB,aAAa,QAAQ,iBAAkB,KAAK,UAAUA,CAAc,CAAC,EAE7E,CAEA,SAASE,GAA+B,CACpC,IAAMF,EAAiB,KAAK,MAAM,aAAa,QAAQ,gBAAgB,CAAC,GAAK,CAAC,EACxEG,EAAyB,SAAS,cAAc,mCAAmC,EACnFC,EAA2B,SAAS,eAAe,kBAAkB,EAE3E,GAAIJ,EAAe,SAAW,EAAG,CACzBG,IACAA,EAAuB,MAAM,QAAU,QAE3C,MACJ,MACQA,IACAA,EAAuB,MAAM,QAAU,SAI1CC,IAELA,EAAyB,UAAY,GAErCJ,EAAe,QAAQD,GAAS,CAC5B,IAAMM,EAAY,SAAS,cAAc,KAAK,EAC9CA,EAAU,UAAU,IAAI,cAAc,EAEtCA,EAAU,UAAY;AAAA,uBACPN,EAAM,IAAI,YAAYA,EAAM,KAAK;AAAA;AAAA,uDAEDA,EAAM,KAAK;AAAA,gCAClCA,EAAM,MAAM,UAAUA,EAAM,KAAK,mBAAmBA,EAAM,KAAK;AAAA;AAAA;AAAA,UAKvFK,EAAyB,YAAYC,CAAS,CAClD,CAAC,EAED,EAAE,QAAQ,EAAE,MAAM,UAAU,CACxB,EAAE,eAAe,EAAE,YAAY,CAC3B,IAAK,GACL,OAAQ,GACR,QAAS,CAAC,oCAAqC,oCAAoC,EACnF,WAAY,CACR,EAAG,CACC,MAAO,EACP,QAAS,CACb,EACA,IAAK,CACD,MAAO,EACP,QAAS,CACb,EACA,IAAK,CACD,MAAO,EACP,QAAS,CACb,EACA,IAAK,CACD,MAAO,EACP,QAAS,CACb,EACA,KAAM,CACF,MAAO,EACP,QAAS,CACb,CACJ,CACJ,CAAC,CACL,CAAC,EACL,CAEA,SAAS,iBAAiB,mBAAoBH,CAA4B,EAEtE,SAAS,eAAe,oBAAoB,GAC5CT,EAAmB",
  "names": ["addMovieToTrending", "posterDiv", "posterUrlMatch", "posterUrl", "canonicalLink", "moviePath", "movie", "trendingMovies", "m", "displayRecentlyWatchedMovies", "recentlyWatchedSection", "recentlyWatchedContainer", "movieItem"]
}
